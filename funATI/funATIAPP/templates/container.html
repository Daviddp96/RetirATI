{% load static %}
{% for publication in publications %}
<a href="{% url 'funATIAPP:publication_detail' publication.id %}" class="post-link">
<div class="post">
    <div class="post-header">
        {% if publication.profile.avatar %}
            <img src="{{ publication.profile.avatar.url }}" alt="{{ publication.profile.user.username }}" class="post-avatar" />
        {% else %}
            <img src="{% static 'assets/user-placeholder.png' %}" alt="{{ publication.profile.user.username }}" class="post-avatar" />
        {% endif %}
        <span class="post-username">{{ publication.profile.user.get_full_name|default:publication.profile.user.username }}</span>
        <span class="post-handle">@{{ publication.profile.user.username }}</span>
        <span class="post-time">{{ publication.created_at|timesince }} atrás</span>
    </div>
    <div class="post-content">{{ publication.content }}</div>
    {% if publication.media %}
    <div class="post-media-placeholder">
        <div class="media-preview">
            <img src="{{ publication.media.url }}" alt="Imagen publicación" class="publication-img" />
        </div>
    </div>
    {% endif %}
    <div class="post-actions">
        <button class="post-action">
          <svg class="action-icon" viewBox="0 0 24 24">
            <path d="M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l3.5-7 3.5 7H4zm10.5-7l3.5 7h-7l3.5-7z"/>
          </svg>
          <span>0</span>
        </button>
        <button class="post-action">
          <svg class="action-icon" viewBox="0 0 24 24">
            <path d="M10 3h4v18h-4V3zm7 3h4v15h-4V6zM3 6h4v15H3V6z" />
          </svg>
          <span>0</span>
        </button>
        <button class="post-action">
          <svg class="action-icon" viewBox="0 0 24 24">
            <path d="M8 10v12h8V10H8zM4 8h16v4H4V8zm10-6v4h-4V2h4z" />
          </svg>
          <span>0</span>
        </button>
    </div>
</div>
</a>
{% endfor %}